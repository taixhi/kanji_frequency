#!/usr/bin/env python
# -*- coding: utf-8 -*-
import pickle
import csv
import sys
import os
from tqdm import tqdm
script_dir = os.path.dirname(os.path.realpath(__file__)) + '/'
kanjis = pickle.load(open(script_dir + "temp/kanjis_map.pkl", "rb"))

yeardict= {"1年生": ["一", "七", "三", "上", "下", "中", "九", "二", "五", "人", "休", "先", "入", "八", "六", "円", "出", "力", "十", "千", "口", "右", "名", "四", "土", "夕", "大", "天", "女", "子", "字", "学", "小", "山", "川", "左", "年", "手", "文", "日", "早", "月", "木", "本", "村", "林", "校", "森", "正", "気", "水", "火", "犬", "玉", "王", "生", "田", "男", "町", "白", "百", "目", "石", "空", "立", "竹", "糸", "耳", "花", "草", "虫", "見", "貝", "赤", "足", "車", "金", "雨", "青", "音"],
"2年生": ["万", "丸", "交", "京", "今", "会", "体", "何", "作", "元", "兄", "光", "公", "内", "冬", "刀", "分", "切", "前", "北", "午", "半", "南", "原", "友", "古", "台", "合", "同", "回", "図", "国", "園", "地", "場", "声", "売", "夏", "外", "多", "夜", "太", "妹", "姉", "室", "家", "寺", "少", "岩", "工", "市", "帰", "広", "店", "弓", "引", "弟", "弱", "強", "当", "形", "後", "心", "思", "戸", "才", "教", "数", "新", "方", "明", "星", "春", "昼", "時", "晴", "曜", "書", "朝", "来", "東", "楽", "歌", "止", "歩", "母", "毎", "毛", "池", "汽", "活", "海", "点", "父", "牛", "理", "用", "画", "番", "直", "矢", "知", "社", "秋", "科", "答", "算", "米", "紙", "細", "組", "絵", "線", "羽", "考", "聞", "肉", "自", "船", "色", "茶", "行", "西", "親", "角", "言", "計", "記", "話", "語", "読", "谷", "買", "走", "近", "通", "週", "道", "遠", "里", "野", "長", "門", "間", "雪", "雲", "電", "頭", "顔", "風", "食", "首", "馬", "高", "魚", "鳥", "鳴", "麦", "黄", "黒"],
"3年生": ["丁", "世", "両", "主", "乗", "予", "事", "仕", "他", "代", "住", "使", "係", "倍", "全", "具", "写", "列", "助", "勉", "動", "勝", "化", "区", "医", "去", "反", "取", "受", "号", "向", "君", "味", "命", "和", "品", "員", "商", "問", "坂", "央", "始", "委", "守", "安", "定", "実", "客", "宮", "宿", "寒", "対", "局", "屋", "岸", "島", "州", "帳", "平", "幸", "度", "庫", "庭", "式", "役", "待", "急", "息", "悪", "悲", "想", "意", "感", "所", "打", "投", "拾", "持", "指", "放", "整", "旅", "族", "昔", "昭", "暑", "暗", "曲", "有", "服", "期", "板", "柱", "根", "植", "業", "様", "横", "橋", "次", "歯", "死", "氷", "決", "油", "波", "注", "泳", "洋", "流", "消", "深", "温", "港", "湖", "湯", "漢", "炭", "物", "球", "由", "申", "界", "畑", "病", "発", "登", "皮", "皿", "相", "県", "真", "着", "短", "研", "礼", "神", "祭", "福", "秒", "究", "章", "童", "笛", "第", "筆", "等", "箱", "級", "終", "緑", "練", "羊", "美", "習", "者", "育", "苦", "荷", "落", "葉", "薬", "血", "表", "詩", "調", "談", "豆", "負", "起", "路", "身", "転", "軽", "農", "返", "追", "送", "速", "進", "遊", "運", "部", "都", "配", "酒", "重", "鉄", "銀", "開", "院", "陽", "階", "集", "面", "題", "飲", "館", "駅", "鼻"],
"4年生": ["不", "争", "付", "令", "以", "仲", "伝", "位", "低", "例", "便", "信", "倉", "候", "借", "停", "健", "側", "働", "億", "兆", "児", "共", "兵", "典", "冷", "初", "別", "利", "刷", "副", "功", "加", "努", "労", "勇", "包", "卒", "協", "単", "博", "印", "参", "史", "司", "各", "告", "周", "唱", "喜", "器", "囲", "固", "型", "堂", "塩", "士", "変", "夫", "失", "好", "季", "孫", "完", "官", "害", "察", "巣", "差", "希", "席", "帯", "底", "府", "康", "建", "径", "徒", "得", "必", "念", "愛", "成", "戦", "折", "挙", "改", "救", "敗", "散", "料", "旗", "昨", "景", "最", "望", "未", "末", "札", "材", "束", "松", "果", "栄", "案", "梅", "械", "極", "標", "機", "欠", "歴", "残", "殺", "毒", "氏", "民", "求", "治", "法", "泣", "浅", "浴", "清", "満", "漁", "灯", "無", "然", "焼", "照", "熱", "牧", "特", "産", "的", "省", "祝", "票", "種", "積", "競", "笑", "管", "節", "粉", "紀", "約", "結", "給", "続", "置", "老", "胃", "脈", "腸", "臣", "航", "良", "芸", "芽", "英", "菜", "街", "衣", "要", "覚", "観", "訓", "試", "説", "課", "議", "象", "貨", "貯", "費", "賞", "軍", "輪", "辞", "辺", "連", "達", "選", "郡", "量", "録", "鏡", "関", "陸", "隊", "静", "順", "願", "類", "飛", "飯", "養", "験"],
"5年生": ["久", "仏", "仮", "件", "任", "似", "余", "価", "保", "修", "俵", "個", "備", "像", "再", "刊", "判", "制", "券", "則", "効", "務", "勢", "厚", "句", "可", "営", "因", "団", "圧", "在", "均", "基", "報", "境", "墓", "増", "夢", "妻", "婦", "容", "寄", "富", "導", "居", "属", "布", "師", "常", "幹", "序", "弁", "張", "往", "復", "徳", "志", "応", "快", "性", "恩", "情", "態", "慣", "承", "技", "招", "授", "採", "接", "提", "損", "支", "政", "故", "敵", "断", "旧", "易", "暴", "条", "枝", "査", "格", "桜", "検", "構", "武", "比", "永", "河", "液", "混", "減", "測", "準", "演", "潔", "災", "燃", "版", "犯", "状", "独", "率", "現", "留", "略", "益", "眼", "破", "確", "示", "祖", "禁", "移", "程", "税", "築", "精", "素", "経", "統", "絶", "綿", "総", "編", "績", "織", "罪", "群", "義", "耕", "職", "肥", "能", "興", "舌", "舎", "術", "衛", "製", "複", "規", "解", "設", "許", "証", "評", "講", "謝", "識", "護", "豊", "財", "貧", "責", "貸", "貿", "賀", "資", "賛", "質", "輸", "述", "迷", "退", "逆", "造", "過", "適", "酸", "鉱", "銅", "銭", "防", "限", "険", "際", "雑", "非", "預", "領", "額", "飼"],
"6年生": ["並", "乱", "乳", "亡", "仁", "供", "俳", "値", "傷", "優", "党", "冊", "処", "刻", "割", "創", "劇", "勤", "危", "卵", "厳", "収", "后", "否", "吸", "呼", "善", "困", "垂", "城", "域", "奏", "奮", "姿", "存", "孝", "宅", "宇", "宗", "宙", "宝", "宣", "密", "寸", "専", "射", "将", "尊", "就", "尺", "届", "展", "層", "己", "巻", "幕", "干", "幼", "庁", "座", "延", "律", "従", "忘", "忠", "憲", "我", "批", "担", "拝", "拡", "捨", "探", "推", "揮", "操", "敬", "映", "晩", "暖", "暮", "朗", "机", "枚", "染", "株", "棒", "模", "権", "樹", "欲", "段", "沿", "泉", "洗", "派", "済", "源", "潮", "激", "灰", "熟", "片", "班", "異", "疑", "痛", "皇", "盛", "盟", "看", "砂", "磁", "私", "秘", "穀", "穴", "窓", "筋", "策", "簡", "糖", "系", "紅", "納", "純", "絹", "縦", "縮", "署", "翌", "聖", "肺", "背", "胸", "脳", "腹", "臓", "臨", "至", "若", "著", "蒸", "蔵", "蚕", "衆", "裁", "装", "裏", "補", "視", "覧", "討", "訪", "訳", "詞", "誌", "認", "誕", "誠", "誤", "論", "諸", "警", "貴", "賃", "遺", "郵", "郷", "針", "鋼", "閉", "閣", "降", "陛", "除", "障", "難", "革", "頂", "骨"],
"中学校": ["丈", "与", "且", "丘", "丙", "丹", "乏", "乙", "乾", "了", "互", "井", "亜", "享", "亭", "介", "仙", "仰", "企", "伏", "伐", "伯", "伴", "伸", "伺", "但", "佐", "佳", "併", "侍", "依", "侮", "侯", "侵", "促", "俊", "俗", "俸", "倒", "倣", "倫", "倹", "偉", "偏", "偵", "偶", "偽", "傍", "傑", "傘", "催", "債", "傾", "僕", "僚", "僧", "儀", "儒", "償", "充", "克", "免", "兼", "冒", "冗", "冠", "准", "凍", "凝", "凡", "凶", "凸", "凹", "刃", "刈", "刑", "到", "刺", "削", "剖", "剛", "剣", "剤", "剰", "劣", "励", "劾", "勅", "勘", "募", "勧", "勲", "勺", "匁", "匠", "匹", "匿", "升", "卑", "卓", "占", "即", "却", "卸", "厄", "厘", "又", "及", "双", "叔", "叙", "叫", "召", "吉", "吏", "吐", "吟", "含", "吹", "呈", "呉", "咲", "哀", "哲", "唆", "唇", "唐", "唯", "啓", "喚", "喝", "喪", "喫", "嗣", "嘆", "嘱", "噴", "嚇", "囚", "圏", "坊", "坑", "坪", "垣", "埋", "執", "培", "堀", "堅", "堕", "堤", "堪", "塀", "塁", "塊", "塑", "塔", "塗", "塚", "塾", "墜", "墨", "墳", "墾", "壁", "壇", "壊", "壌", "壮", "壱", "奇", "奉", "契", "奔", "奥", "奨", "奪", "奴", "如", "妃", "妄", "妊", "妙", "妥", "妨", "姓", "姫", "姻", "威", "娘", "娠", "娯", "婆", "婚", "婿", "媒", "嫁", "嫌", "嫡", "嬢", "孔", "孤", "宜", "宰", "宴", "宵", "寂", "寛", "寝", "寡", "寧", "審", "寮", "寿", "封", "尉", "尋", "尚", "尼", "尽", "尾", "尿", "屈", "履", "屯", "岐", "岬", "岳", "峠", "峡", "峰", "崇", "崎", "崩", "巡", "巧", "巨", "帆", "帝", "帥", "帽", "幅", "幣", "幻", "幽", "幾", "床", "庶", "庸", "廃", "廉", "廊", "廷", "弊", "弐", "弔", "弦", "弧", "弾", "彩", "彫", "彰", "影", "彼", "征", "徐", "御", "循", "微", "徴", "徹", "忌", "忍", "忙", "怒", "怖", "怠", "怪", "恋", "恐", "恒", "恥", "恨", "恭", "恵", "悔", "悟", "悠", "患", "悦", "悩", "悼", "惑", "惜", "惨", "惰", "愁", "愉", "愚", "慈", "慌", "慎", "慕", "慢", "慨", "慮", "慰", "慶", "憂", "憎", "憤", "憩", "憶", "憾", "懇", "懐", "懲", "懸", "戒", "戯", "戻", "房", "扇", "扉", "払", "扱", "扶", "抄", "把", "抑", "抗", "抜", "択", "披", "抱", "抵", "抹", "押", "抽", "拍", "拐", "拒", "拓", "拘", "拙", "拠", "括", "拷", "挑", "挟", "振", "挿", "捕", "捜", "据", "掃", "掌", "排", "掘", "掛", "控", "措", "掲", "描", "揚", "換", "握", "援", "揺", "搬", "搭", "携", "搾", "摂", "摘", "摩", "撃", "撤", "撮", "撲", "擁", "擦", "擬", "攻", "敏", "敢", "敷", "斉", "斎", "斗", "斜", "斤", "斥", "施", "旋", "既", "旨", "旬", "昆", "昇", "是", "普", "晶", "暁", "暇", "暦", "暫", "曇", "更", "曹", "替", "朕", "朱", "朴", "朽", "杉", "杯", "析", "枠", "枢", "枯", "架", "柄", "某", "柔", "柳", "栓", "核", "栽", "桃", "桑", "桟", "棄", "棋", "棚", "棟", "棺", "楼", "概", "槽", "欄", "欧", "欺", "款", "歓", "歳", "殉", "殊", "殖", "殴", "殻", "殿", "汁", "汗", "汚", "江", "沈", "沖", "没", "沢", "沸", "沼", "況", "泊", "泌", "泡", "泥", "泰", "洞", "津", "洪", "浄", "浜", "浦", "浪", "浮", "浸", "涙", "涯", "涼", "淑", "淡", "添", "渇", "渉", "渋", "渓", "渡", "渦", "湾", "湿", "溝", "溶", "滅", "滋", "滑", "滝", "滞", "滴", "漂", "漆", "漏", "漠", "漫", "漬", "漸", "潜", "潟", "潤", "澄", "濁", "濃", "濫", "濯", "瀬", "炉", "炊", "炎", "為", "烈", "焦", "煙", "煩", "煮", "燥", "爆", "爵", "牲", "犠", "狂", "狩", "狭", "猛", "猟", "猫", "献", "猶", "猿", "獄", "獣", "獲", "玄", "珍", "珠", "琴", "環", "璽", "瓶", "甘", "甚", "甲", "畔", "畜", "畝", "畳", "疎", "疫", "疲", "疾", "症", "痘", "痢", "痴", "療", "癒", "癖", "皆", "盆", "盗", "監", "盤", "盲", "盾", "眠", "眺", "睡", "督", "瞬", "矛", "矯", "砕", "砲", "硝", "硫", "硬", "碁", "碑", "磨", "礁", "礎", "祈", "祉", "祥", "禅", "禍", "秀", "租", "秩", "称", "稚", "稲", "稼", "稿", "穂", "穏", "穫", "突", "窃", "窒", "窮", "窯", "竜", "端", "符", "筒", "箇", "範", "篤", "簿", "籍", "粋", "粒", "粗", "粘", "粛", "粧", "糧", "糾", "紋", "紛", "紡", "索", "紫", "累", "紳", "紹", "紺", "絞", "絡", "継", "維", "綱", "網", "緊", "緒", "締", "緩", "緯", "縁", "縄", "縛", "縫", "繁", "繊", "繕", "繭", "繰", "缶", "罰", "罷", "羅", "翁", "翻", "翼", "耐", "耗", "聴", "肌", "肖", "肝", "肢", "肩", "肪", "肯", "胆", "胎", "胞", "胴", "脂", "脅", "脚", "脱", "脹", "腐", "腕", "腰", "膚", "膜", "膨", "臭", "致", "舗", "舞", "舟", "般", "舶", "艇", "艦", "芋", "芝", "芳", "苗", "茂", "茎", "荒", "荘", "菊", "菌", "菓", "華", "葬", "蓄", "薄", "薦", "薪", "薫", "藩", "藻", "虐", "虚", "虜", "虞", "蚊", "蛇", "蛍", "蛮", "融", "衝", "衡", "衰", "衷", "袋", "被", "裂", "裕", "裸", "褐", "褒", "襟", "襲", "覆", "覇", "触", "訂", "託", "訟", "訴", "診", "詐", "詔", "詠", "詰", "該", "詳", "誇", "誉", "誓", "誘", "請", "諭", "諮", "諾", "謀", "謁", "謄", "謙", "謡", "謹", "譜", "譲", "豚", "豪", "貞", "貢", "販", "貫", "賄", "賊", "賓", "賜", "賠", "賢", "賦", "購", "贈", "赦", "赴", "超", "越", "趣", "距", "跡", "跳", "践", "踊", "踏", "躍", "軌", "軒", "軟", "軸", "較", "載", "輝", "輩", "轄", "辛", "辱", "込", "迅", "迎", "迫", "迭", "逃", "透", "逐", "逓", "途", "逝", "逮", "逸", "遂", "遅", "遇", "遍", "違", "遣", "遭", "遮", "遵", "遷", "避", "還", "邦", "邪", "邸", "郊", "郎", "郭", "酌", "酔", "酢", "酪", "酬", "酵", "酷", "醜", "醸", "釈", "釣", "鈍", "鈴", "鉛", "鉢", "銃", "銑", "銘", "鋭", "鋳", "錘", "錠", "錬", "錯", "鍛", "鎖", "鎮", "鐘", "鑑", "閑", "閥", "閲", "闘", "阻", "附", "陣", "陥", "陪", "陰", "陳", "陵", "陶", "隅", "隆", "随", "隔", "隠", "隣", "隷", "隻", "雄", "雅", "雇", "雌", "離", "雰", "零", "雷", "需", "震", "霜", "霧", "露", "靴", "韻", "響", "項", "頑", "頒", "頻", "頼", "顕", "顧", "飢", "飽", "飾", "餓", "香", "駄", "駆", "駐", "騎", "騒", "騰", "驚", "髄", "髪", "鬼", "魂", "魅", "魔", "鮮", "鯨", "鶏", "麗", "麻", "黙", "鼓", "齢"]
}

csvfile = "temp/kanjis.csv"
print(len(kanjis))
with open(script_dir + csvfile, "w+") as output:
	writer = csv.writer(output)
	for key, val in tqdm(kanjis.items(), total=len(kanjis)):
		theYear = ""
		for year, yearkanjis in yeardict.items():
			if key in yearkanjis:
				theYear = year
		writer.writerow([key, val, theYear])